extends layout

block content
    .w3-card-4
        header.w3-container.w3-blue
            h1.w3-center Tasks List (TPC5)
        .w3-cell-row
            form.w3-container.w3-cell(action="/add/task" method="POST")
                h1 Tasks Form
                fieldset
                    label.w3-text-grey Task Name
                    input.w3-input.w3-border(type="text" name='name' required)
                    label.w3-text-grey Due Date
                    input.w3-input.w3-border(type="date" name="duedate" required)
                    label.w3-text-grey Who 
                    select.w3-select.w3-round(name='who')
                        option(value='' disabled='' select='') 
                            each u in uList
                                option.w3-center #{u.name}
                    label.w3-text-grey What
                    input.w3-input.w3-border(type="text" name="what" required)
                    button.w3-button.w3-green.w3-round.w3-right.w3-margin-top(type="submit") Register
            form.w3-container.w3-cell(action="/add/user" class="" method="POST")
                h1 Users Form
                fieldset
                    label.w3-text-grey Name
                    input.w3-input.w3-border(type="text" name="name" required)
                    label.w3-text-grey Email
                    input.w3-input.w3-border(type="text" name="email" required)
                    button.w3-button.w3-green.w3-round.w3-right.w3-margin-top(type="submit") Register
        .w3-cell-row
            .w3-container.w3-cell(style="width:50%")
                h1 Tasks To Do
                table.w3-table-all
                    tr
                        th Name
                        th Due Date
                        th Who
                        th What
                        th Actions
                    each t in tList
                        if !t.done
                            tr
                                td= t.name
                                    a(href="/tasks/"+t.id)
                                td= t.duedate
                                td= t.who
                                td= t.what
                                td  
                                    button.w3-btn.w3-round.w3-yellow.w3-margin
                                        a(href="/tasks/edit/"+t.id) Edit
                                    button.w3-btn.w3-round.w3-red
                                        a(href="/tasks/delete/"+t.id) Delete
                                    button.w3-btn.w3-round.w3-green.w3-margin
                                        a(href="/tasks/done/"+t.id) Done

            .w3-container.w3-cell(style="width:50%")
                h1 Tasks Completed
                table.w3-table-all
                    tr
                        th Name
                        th Due Date
                        th Who
                        th What
                        th Actions
                    each t in tList
                        if t.done
                            tr
                                td= t.name 
                                    a(href="/tasks/"+t.id)
                                td= t.duedate
                                td= t.who
                                td= t.what
                                td 
                                    button.w3-btn.w3-round.w3-red
                                        a(href="/tasks/delete/"+t.id) Delete

        footer.w3-container.w3-blue
            h5 Generated by TPC5 server in #{d} - 
                a(href="/") Return
    